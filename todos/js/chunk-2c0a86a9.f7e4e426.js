(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2c0a86a9"],{"1d21":function(t,e,o){"use strict";o.r(e);var s=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"task"},[o("div",{staticClass:"task__container container"},[o("div",{staticClass:"task__header"},[o("h3",{staticClass:"task__heading heading"},[t._v("Task")]),o("div",{staticClass:"task__states"},[o("button",{staticClass:"task__undo button button_icon",attrs:{disabled:t.loading||t.blockUndo,type:"button"},on:{click:t.undo}},[o("svg",{attrs:{width:"16",height:"16"}},[o("use",{attrs:{"xlink:href":"#icon-undo"}})])]),o("button",{staticClass:"task__redo button button_icon",attrs:{disabled:t.loading||t.blockRedo,type:"button"},on:{click:t.redo}},[o("svg",{attrs:{width:"16",height:"16"}},[o("use",{attrs:{"xlink:href":"#icon-redo"}})])])])]),o("form",{staticClass:"task__form",on:{submit:function(e){return e.preventDefault(),t.save(e)}}},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],staticClass:"task__title textfield",class:{textfield__error:t.error},attrs:{type:"text",placeholder:"Task title"},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}}),o("div",{staticClass:"task__subheading"},[t._v("Todo")]),t.todos.length?o("div",{staticClass:"task__todos"},t._l(t.todos,(function(e,s){return o("div",{key:"todo_"+s,staticClass:"task__todo todo"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.title,expression:"todo.title"}],staticClass:"todo__title textfield",class:{todo__title_completed:e.completed},attrs:{type:"text",placeholder:"Todo"},domProps:{value:e.title},on:{change:t.logState,input:function(o){o.target.composing||t.$set(e,"title",o.target.value)}}}),o("div",{staticClass:"todo__actions"},[o("label",{staticClass:"todo__complete toggle",attrs:{title:"Complete todo"}},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.completed,expression:"todo.completed"}],staticClass:"toggle__input",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.completed)?t._i(e.completed,null)>-1:e.completed},on:{change:[function(o){var s=e.completed,i=o.target,a=!!i.checked;if(Array.isArray(s)){var n=null,r=t._i(s,n);i.checked?r<0&&t.$set(e,"completed",s.concat([n])):r>-1&&t.$set(e,"completed",s.slice(0,r).concat(s.slice(r+1)))}else t.$set(e,"completed",a)},t.logState]}}),o("span",{staticClass:"toggle__checkmark"})]),o("button",{staticClass:"todo__remove button button_icon button_red",attrs:{type:"button",title:"Remove todo"},on:{click:function(e){return t.removeTodo(s)}}},[o("svg",{attrs:{width:"16",height:"16"}},[o("use",{attrs:{"xlink:href":"#icon-remove"}})])])])])})),0):o("div",{staticClass:"task__empty"},[t._v(" No todos yet ")]),o("button",{staticClass:"task__more button button_icon",attrs:{type:"button"},on:{click:t.more}},[o("svg",{attrs:{width:"16",height:"16"}},[o("use",{attrs:{"xlink:href":"#icon-more"}})])]),o("div",{staticClass:"task__actions"},[o("button",{staticClass:"task__remove button button_icon button_red",attrs:{type:"button",title:"Remove task"},on:{click:function(e){t.openRemoveConfirm=!0}}},[o("svg",{attrs:{width:"16",height:"16"}},[o("use",{attrs:{"xlink:href":"#icon-remove"}})])]),o("button",{staticClass:"task__cancel button",attrs:{disabled:t.loading,type:"button"},on:{click:function(e){t.openCancelConfirm=!0}}},[t._v("Cancel")]),o("button",{staticClass:"task__add button",attrs:{disabled:t.loading,type:"submit"}},[t._v("Save")])])])]),o("Confirmation",{attrs:{open:t.openRemoveConfirm},on:{agree:function(e){return t.removeTask(t.id)},close:function(e){t.openRemoveConfirm=!1}},scopedSlots:t._u([{key:"text",fn:function(){return[t._v("Are you sure you want to delete the task?")]},proxy:!0}])}),o("Confirmation",{attrs:{open:t.openCancelConfirm},on:{agree:t.cancel,close:function(e){t.openCancelConfirm=!1}},scopedSlots:t._u([{key:"text",fn:function(){return[t._v("Are you sure you want to undo your edit")]},proxy:!0}])})],1)},i=[],a=(o("4de4"),o("a434"),o("5530")),n=o("3768"),r=o("2f62"),c={name:"Task",components:{Confirmation:n["a"]},props:{task:{type:Object,required:!0}},data:function(){return{error:!1,loading:!1,openRemoveConfirm:!1,openCancelConfirm:!1,id:this.task.id,title:this.task.title,todos:JSON.parse(JSON.stringify(this.task.todos)),states:[{id:this.task.id,title:this.task.title,todos:JSON.parse(JSON.stringify(this.task.todos))}],currentState:0}},computed:{blockRedo:function(){return this.currentState===this.states.length-1},blockUndo:function(){return 0===this.currentState}},methods:Object(a["a"])(Object(a["a"])({},Object(r["b"])({updateTask:"UPDATE_TASK"})),{},{removeTask:function(t){this.$store.dispatch("REMOVE_TASK",t),this.$router.push({name:"List"})},removeTodo:function(t){this.todos.splice(t,1),this.logState()},more:function(){this.todos.push({title:"",completed:!1}),this.logState()},save:function(){this.title?(this.loading=!0,this.updateTask({id:this.id,title:this.title,todos:this.todos.filter((function(t){return""!==t.title}))}),this.$router.push({name:"List"})):this.error=!0},cancel:function(){this.$router.push("/")},undo:function(){this.currentState--,this.applyState()},redo:function(){this.currentState++,this.applyState()},logState:function(){this.states.splice(this.currentState+1),this.states.push({id:this.id,title:this.title,todos:JSON.parse(JSON.stringify(this.todos))}),this.currentState=this.states.length-1},applyState:function(){var t=this.states[this.currentState];this.title=t.title,this.todos=JSON.parse(JSON.stringify(t.todos))}})},l=c,d=(o("8adc"),o("2877")),u=Object(d["a"])(l,s,i,!1,null,"17554468",null);e["default"]=u.exports},"8adc":function(t,e,o){"use strict";var s=o("e765"),i=o.n(s);i.a},a434:function(t,e,o){"use strict";var s=o("23e7"),i=o("23cb"),a=o("a691"),n=o("50c4"),r=o("7b0b"),c=o("65f0"),l=o("8418"),d=o("1dde"),u=o("ae40"),h=d("splice"),p=u("splice",{ACCESSORS:!0,0:0,1:2}),m=Math.max,f=Math.min,_=9007199254740991,k="Maximum allowed length exceeded";s({target:"Array",proto:!0,forced:!h||!p},{splice:function(t,e){var o,s,d,u,h,p,v=r(this),g=n(v.length),b=i(t,g),C=arguments.length;if(0===C?o=s=0:1===C?(o=0,s=g-b):(o=C-2,s=f(m(a(e),0),g-b)),g+o-s>_)throw TypeError(k);for(d=c(v,s),u=0;u<s;u++)h=b+u,h in v&&l(d,u,v[h]);if(d.length=s,o<s){for(u=b;u<g-s;u++)h=u+s,p=u+o,h in v?v[p]=v[h]:delete v[p];for(u=g;u>g-s+o;u--)delete v[u-1]}else if(o>s)for(u=g-s;u>b;u--)h=u+s-1,p=u+o-1,h in v?v[p]=v[h]:delete v[p];for(u=0;u<o;u++)v[u+b]=arguments[u+2];return v.length=g-s+o,d}})},e765:function(t,e,o){}}]);
//# sourceMappingURL=chunk-2c0a86a9.f7e4e426.js.map