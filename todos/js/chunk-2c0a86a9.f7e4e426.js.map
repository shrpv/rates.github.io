{"version":3,"sources":["webpack:///./src/views/Task.vue?e9b6","webpack:///src/views/Task.vue","webpack:///./src/views/Task.vue?16d7","webpack:///./src/views/Task.vue","webpack:///./src/views/Task.vue?c05b","webpack:///./node_modules/core-js/modules/es.array.splice.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","attrs","loading","blockUndo","on","undo","blockRedo","redo","$event","preventDefault","save","directives","name","rawName","value","expression","class","error","domProps","target","composing","title","todos","_l","todo","index","key","completed","logState","$set","Array","isArray","_i","$$a","$$el","$$c","checked","$$v","$$i","concat","slice","removeTodo","more","openRemoveConfirm","openCancelConfirm","removeTask","id","scopedSlots","_u","fn","proxy","cancel","staticRenderFns","components","Confirmation","props","task","type","Object","required","data","JSON","parse","stringify","states","currentState","computed","length","methods","$store","dispatch","$router","push","splice","updateTask","filter","applyState","current","component","$","toAbsoluteIndex","toInteger","toLength","toObject","arraySpeciesCreate","createProperty","arrayMethodHasSpeciesSupport","arrayMethodUsesToLength","HAS_SPECIES_SUPPORT","USES_TO_LENGTH","ACCESSORS","0","1","max","Math","min","MAX_SAFE_INTEGER","MAXIMUM_ALLOWED_LENGTH_EXCEEDED","proto","forced","start","deleteCount","insertCount","actualDeleteCount","A","k","from","to","O","len","actualStart","argumentsLength","arguments","TypeError"],"mappings":"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","file":"js/chunk-2c0a86a9.f7e4e426.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"task\"},[_c('div',{staticClass:\"task__container container\"},[_c('div',{staticClass:\"task__header\"},[_c('h3',{staticClass:\"task__heading heading\"},[_vm._v(\"Task\")]),_c('div',{staticClass:\"task__states\"},[_c('button',{staticClass:\"task__undo button button_icon\",attrs:{\"disabled\":_vm.loading || _vm.blockUndo,\"type\":\"button\"},on:{\"click\":_vm.undo}},[_c('svg',{attrs:{\"width\":\"16\",\"height\":\"16\"}},[_c('use',{attrs:{\"xlink:href\":\"#icon-undo\"}})])]),_c('button',{staticClass:\"task__redo button button_icon\",attrs:{\"disabled\":_vm.loading || _vm.blockRedo,\"type\":\"button\"},on:{\"click\":_vm.redo}},[_c('svg',{attrs:{\"width\":\"16\",\"height\":\"16\"}},[_c('use',{attrs:{\"xlink:href\":\"#icon-redo\"}})])])])]),_c('form',{staticClass:\"task__form\",on:{\"submit\":function($event){$event.preventDefault();return _vm.save($event)}}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.title),expression:\"title\"}],staticClass:\"task__title textfield\",class:{'textfield__error': _vm.error},attrs:{\"type\":\"text\",\"placeholder\":\"Task title\"},domProps:{\"value\":(_vm.title)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.title=$event.target.value}}}),_c('div',{staticClass:\"task__subheading\"},[_vm._v(\"Todo\")]),(_vm.todos.length)?_c('div',{staticClass:\"task__todos\"},_vm._l((_vm.todos),function(todo,index){return _c('div',{key:'todo_' + index,staticClass:\"task__todo todo\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(todo.title),expression:\"todo.title\"}],staticClass:\"todo__title textfield\",class:{'todo__title_completed': todo.completed},attrs:{\"type\":\"text\",\"placeholder\":\"Todo\"},domProps:{\"value\":(todo.title)},on:{\"change\":_vm.logState,\"input\":function($event){if($event.target.composing){ return; }_vm.$set(todo, \"title\", $event.target.value)}}}),_c('div',{staticClass:\"todo__actions\"},[_c('label',{staticClass:\"todo__complete toggle\",attrs:{\"title\":\"Complete todo\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(todo.completed),expression:\"todo.completed\"}],staticClass:\"toggle__input\",attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(todo.completed)?_vm._i(todo.completed,null)>-1:(todo.completed)},on:{\"change\":[function($event){var $$a=todo.completed,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(todo, \"completed\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(todo, \"completed\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(todo, \"completed\", $$c)}},_vm.logState]}}),_c('span',{staticClass:\"toggle__checkmark\"})]),_c('button',{staticClass:\"todo__remove button button_icon button_red\",attrs:{\"type\":\"button\",\"title\":\"Remove todo\"},on:{\"click\":function($event){return _vm.removeTodo(index)}}},[_c('svg',{attrs:{\"width\":\"16\",\"height\":\"16\"}},[_c('use',{attrs:{\"xlink:href\":\"#icon-remove\"}})])])])])}),0):_c('div',{staticClass:\"task__empty\"},[_vm._v(\" No todos yet \")]),_c('button',{staticClass:\"task__more button button_icon\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.more}},[_c('svg',{attrs:{\"width\":\"16\",\"height\":\"16\"}},[_c('use',{attrs:{\"xlink:href\":\"#icon-more\"}})])]),_c('div',{staticClass:\"task__actions\"},[_c('button',{staticClass:\"task__remove button button_icon button_red\",attrs:{\"type\":\"button\",\"title\":\"Remove task\"},on:{\"click\":function($event){_vm.openRemoveConfirm = true}}},[_c('svg',{attrs:{\"width\":\"16\",\"height\":\"16\"}},[_c('use',{attrs:{\"xlink:href\":\"#icon-remove\"}})])]),_c('button',{staticClass:\"task__cancel button\",attrs:{\"disabled\":_vm.loading,\"type\":\"button\"},on:{\"click\":function($event){_vm.openCancelConfirm = true}}},[_vm._v(\"Cancel\")]),_c('button',{staticClass:\"task__add button\",attrs:{\"disabled\":_vm.loading,\"type\":\"submit\"}},[_vm._v(\"Save\")])])])]),_c('Confirmation',{attrs:{\"open\":_vm.openRemoveConfirm},on:{\"agree\":function($event){return _vm.removeTask(_vm.id)},\"close\":function($event){_vm.openRemoveConfirm = false}},scopedSlots:_vm._u([{key:\"text\",fn:function(){return [_vm._v(\"Are you sure you want to delete the task?\")]},proxy:true}])}),_c('Confirmation',{attrs:{\"open\":_vm.openCancelConfirm},on:{\"agree\":_vm.cancel,\"close\":function($event){_vm.openCancelConfirm = false}},scopedSlots:_vm._u([{key:\"text\",fn:function(){return [_vm._v(\"Are you sure you want to undo your edit\")]},proxy:true}])})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"task\">\n    <div class=\"task__container container\">\n      <div class=\"task__header\">\n        <h3 class=\"task__heading heading\">Task</h3>\n\n        <div class=\"task__states\">\n          <button\n            :disabled=\"loading || blockUndo\"\n            @click=\"undo\"\n            class=\"task__undo button button_icon\"\n            type=\"button\"\n          >\n            <svg\n              width=\"16\"\n              height=\"16\"\n            >\n              <use xlink:href=\"#icon-undo\"></use>\n            </svg>\n          </button>\n\n          <button\n            :disabled=\"loading || blockRedo\"\n            @click=\"redo\"\n            class=\"task__redo button button_icon\"\n            type=\"button\"\n          >\n            <svg\n              width=\"16\"\n              height=\"16\"\n            >\n              <use xlink:href=\"#icon-redo\"></use>\n            </svg>\n          </button>\n        </div>\n        \n      </div>\n\n      <form\n        @submit.prevent=\"save\"\n        class=\"task__form\"\n      >\n        <input\n          v-model=\"title\"\n          :class=\"{'textfield__error': error}\"\n          class=\"task__title textfield\"\n          type=\"text\"\n          placeholder=\"Task title\"\n        >\n\n        <div class=\"task__subheading\">Todo</div>\n\n        <div\n          v-if=\"todos.length\"\n          class=\"task__todos\"\n        >\n          <div\n            v-for=\"(todo, index) in todos\"\n            :key=\"'todo_' + index\"\n            class=\"task__todo todo\"\n          >\n            <input\n              v-model=\"todo.title\"\n              @change=\"logState\"\n              :class=\"{'todo__title_completed': todo.completed}\"\n              class=\"todo__title textfield\"\n              type=\"text\"\n              placeholder=\"Todo\"\n            >\n\n            <div class=\"todo__actions\">\n              <label\n                class=\"todo__complete toggle\"\n                title=\"Complete todo\"\n              >\n                <input\n                  v-model=\"todo.completed\"\n                  @change=\"logState\"\n                  class=\"toggle__input\"\n                  type=\"checkbox\"\n                >\n\n                <span class=\"toggle__checkmark\"></span>\n              </label>\n\n              <button\n                @click=\"removeTodo(index)\"\n                class=\"todo__remove button button_icon button_red\"\n                type=\"button\"\n                title=\"Remove todo\"\n              >\n                <svg\n                  width=\"16\"\n                  height=\"16\"\n                >\n                  <use xlink:href=\"#icon-remove\"></use>\n                </svg>\n              </button>\n\n            </div>\n          </div>\n        </div>\n\n        <div\n          v-else\n          class=\"task__empty\"\n        >\n          No todos yet\n        </div>\n        \n        <button\n          @click=\"more\"\n          class=\"task__more button button_icon\"\n          type=\"button\"\n        >\n          <svg\n            width=\"16\"\n            height=\"16\"\n          >\n            <use xlink:href=\"#icon-more\"></use>\n          </svg>\n        </button> \n\n        <div class=\"task__actions\">\n          <button\n            @click=\"openRemoveConfirm = true\"\n            class=\"task__remove button button_icon button_red\"\n            type=\"button\"\n            title=\"Remove task\"\n          >\n            <svg\n              width=\"16\"\n              height=\"16\"\n            >\n              <use xlink:href=\"#icon-remove\"></use>\n            </svg>\n          </button>\n\n          <button\n            :disabled=\"loading\"\n            @click=\"openCancelConfirm = true\"\n            class=\"task__cancel button\"\n            type=\"button\"\n          >Cancel</button>\n\n          <button\n            :disabled=\"loading\"\n            class=\"task__add button\"\n            type=\"submit\"\n          >Save</button>\n        </div>      \n      </form>\n    </div>\n\n    <Confirmation\n      :open=\"openRemoveConfirm\"\n      @agree=\"removeTask(id)\"\n      @close=\"openRemoveConfirm = false\"\n    >\n      <template v-slot:text>Are you sure you want to delete the task?</template>\n    </Confirmation>\n\n    <Confirmation\n      :open=\"openCancelConfirm\"\n      @agree=\"cancel\"\n      @close=\"openCancelConfirm = false\"\n    >\n      <template v-slot:text>Are you sure you want to undo your edit</template>\n    </Confirmation>\n  </div>\n</template>\n\n<script>\nimport Confirmation from '@/components/Confirmation';\nimport { mapActions } from 'vuex';\n\nexport default {\n  name: 'Task',\n\n  components: {\n    Confirmation\n  },\n\n  props: {\n    task: {\n      type: Object,\n      required: true\n    }\n  },\n  \n  data() {\n    return {\n      error: false,\n      loading: false,\n      openRemoveConfirm: false,\n      openCancelConfirm: false,\n\n      id: this.task.id,\n      title: this.task.title,\n      todos: JSON.parse(JSON.stringify(this.task.todos)), // this method create full copy of array\n      // todos: [...this.task.todos] // this method assigns objects/arrays by reference instead of by value\n\n      states: [{\n        id: this.task.id,\n        title: this.task.title,\n        todos: JSON.parse(JSON.stringify(this.task.todos))\n      }],\n      currentState: 0\n    }\n  },\n\n  computed: {\n    blockRedo() {\n      return this.currentState === this.states.length - 1;\n    },\n\n    blockUndo() {\n      return this.currentState === 0;\n    }\n  },\n  \n  methods: {\n    ...mapActions({\n      updateTask: 'UPDATE_TASK'\n    }),\n\n    removeTask(id) {\n      this.$store.dispatch('REMOVE_TASK', id);\n      this.$router.push({ name: 'List'});\n    },\n\n    removeTodo(index) {\n      this.todos.splice(index, 1);\n\n      this.logState();\n    },\n\n    more() {\n      this.todos.push({\n        title: '',\n        completed: false\n      })\n\n      this.logState();\n    },\n\n    save() {\n      if (!this.title) {\n        this.error = true;\n      } else {\n        this.loading = true;\n\n        this.updateTask({\n          id: this.id,\n          title: this.title,\n          todos: this.todos.filter(todo => todo.title !== '')\n        });\n\n        this.$router.push({ name: 'List'});\n      }\n    },\n\n    cancel() {\n      this.$router.push('/');\n    },\n\n    undo() {\n      this.currentState--;\n      this.applyState();\n    },\n\n    redo() {\n      this.currentState++;\n      this.applyState();\n    },\n\n    logState() {\n      \n      this.states.splice(this.currentState + 1);\n      \n      this.states.push({\n        id: this.id,\n        title: this.title,\n        todos: JSON.parse(JSON.stringify(this.todos))\n      });\n\n      this.currentState = this.states.length - 1;\n    },\n\n    applyState() {\n      const current = this.states[this.currentState];\n      \n      this.title = current.title;\n      this.todos = JSON.parse(JSON.stringify(current.todos));\n    }\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n.task {\n  padding-bottom: 4rem;\n\n  &__header {\n    display: flex;\n    align-items: center;\n    margin-bottom: 1rem;\n    padding-bottom: 1rem;\n\n    border-bottom: 1px solid rgba(0, 0, 0, 0.1);\n  }\n\n  &__heading {\n    flex-grow: 1;\n    margin-right: 1rem;\n  }\n\n  &__states {\n    white-space: nowrap;\n  }\n\n  &__undo {\n    margin-right: 0.5rem;\n  }\n\n  &__title {\n    margin-bottom: 1.5rem;\n  }\n\n  &__subheading {\n    margin-bottom: 0.75rem;\n\n    font-weight: 700;\n    font-size: 1.25rem;\n    font-family: \"Rajdhani\";\n    text-transform: uppercase;\n    letter-spacing: -0.5px;\n  }\n\n  &__todos {\n    margin-bottom: 1rem;\n  }\n\n  &__todo {\n    margin-bottom: 1rem;\n\n    &:last-child {\n      margin-bottom: 0;\n    }\n  }\n\n  &__empty {\n    margin-bottom: 1rem;\n    padding-top: 1rem;\n\n    font-weight: 700;\n    text-align: center;\n    text-transform: uppercase;\n  }\n\n  &__more {\n    display: block;\n    margin: 0 auto 1rem;\n  }\n\n  &__actions {\n    display: flex;\n    align-items: center;\n    padding: 1rem 0;\n\n    border-top: 1px solid rgba(0, 0, 0, 0.1);\n  }\n\n  &__remove {\n    margin-right: auto;\n  }\n\n  &__cancel {\n    margin-right: 0.5rem;\n  }\n}\n\n.todo {\n  position: relative;\n\n  display: flex;\n  align-items: center;\n\n  &__title {\n    &_completed {\n      text-decoration: line-through;\n    }\n  }\n\n  &__actions {\n    position: absolute;\n    top: 0;\n    right: 0;\n    bottom: 0;\n\n    display: flex;\n    align-items: center;\n    padding: 0 0.5rem;\n  }\n\n  &__complete {\n    margin-right: 0.5rem;\n  }\n\n  &__remove {\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Task.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Task.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Task.vue?vue&type=template&id=17554468&scoped=true&\"\nimport script from \"./Task.vue?vue&type=script&lang=js&\"\nexport * from \"./Task.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Task.vue?vue&type=style&index=0&id=17554468&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"17554468\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Task.vue?vue&type=style&index=0&id=17554468&lang=less&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Task.vue?vue&type=style&index=0&id=17554468&lang=less&scoped=true&\"","'use strict';\nvar $ = require('../internals/export');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toInteger = require('../internals/to-integer');\nvar toLength = require('../internals/to-length');\nvar toObject = require('../internals/to-object');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar createProperty = require('../internals/create-property');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('splice');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('splice', { ACCESSORS: true, 0: 0, 1: 2 });\n\nvar max = Math.max;\nvar min = Math.min;\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_LENGTH_EXCEEDED = 'Maximum allowed length exceeded';\n\n// `Array.prototype.splice` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.splice\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n  splice: function splice(start, deleteCount /* , ...items */) {\n    var O = toObject(this);\n    var len = toLength(O.length);\n    var actualStart = toAbsoluteIndex(start, len);\n    var argumentsLength = arguments.length;\n    var insertCount, actualDeleteCount, A, k, from, to;\n    if (argumentsLength === 0) {\n      insertCount = actualDeleteCount = 0;\n    } else if (argumentsLength === 1) {\n      insertCount = 0;\n      actualDeleteCount = len - actualStart;\n    } else {\n      insertCount = argumentsLength - 2;\n      actualDeleteCount = min(max(toInteger(deleteCount), 0), len - actualStart);\n    }\n    if (len + insertCount - actualDeleteCount > MAX_SAFE_INTEGER) {\n      throw TypeError(MAXIMUM_ALLOWED_LENGTH_EXCEEDED);\n    }\n    A = arraySpeciesCreate(O, actualDeleteCount);\n    for (k = 0; k < actualDeleteCount; k++) {\n      from = actualStart + k;\n      if (from in O) createProperty(A, k, O[from]);\n    }\n    A.length = actualDeleteCount;\n    if (insertCount < actualDeleteCount) {\n      for (k = actualStart; k < len - actualDeleteCount; k++) {\n        from = k + actualDeleteCount;\n        to = k + insertCount;\n        if (from in O) O[to] = O[from];\n        else delete O[to];\n      }\n      for (k = len; k > len - actualDeleteCount + insertCount; k--) delete O[k - 1];\n    } else if (insertCount > actualDeleteCount) {\n      for (k = len - actualDeleteCount; k > actualStart; k--) {\n        from = k + actualDeleteCount - 1;\n        to = k + insertCount - 1;\n        if (from in O) O[to] = O[from];\n        else delete O[to];\n      }\n    }\n    for (k = 0; k < insertCount; k++) {\n      O[k + actualStart] = arguments[k + 2];\n    }\n    O.length = len - actualDeleteCount + insertCount;\n    return A;\n  }\n});\n"],"sourceRoot":""}